\section{Introduction}
This section aims to equip the reader with both the motivation and mathematical tools to begin to formalise problems in stochastic optimal control 
and mathematical finance, by first providing some background material on financial markets, their participants, and their structure, 
and then setting up the basic elements of measure-theoretic probability theory and stochastic processes which we will use to describe them. 
We will end with a discussion of the market-making problem and how we might go about formalising it.

\section{Financial Markets}
A market is simply some social structure that attempts to match those who want to sell a good or service to those who want to buy it. 
Modern financial markets, thanks to recent innovations such as the internet, satellite communication, and fibre-optic cables, 
are perhaps the most interconnected and widespread markets in human history. 

Most people may have heard of the New York Stock Exchange, London Stock Exchange, or NASDAQ, 
but these are only one type of exchange for one type of financial asset, namely equity 
(part ownership of a corporate entity, individually called ``stocks'' or ``shares''). There are also markets for commodities 
(oil, gas, industrial metals, precious metals, live cattle and more), bonds (pieces of government or corporate debt, 
where the holder receives fixed interest payments), currencies (including cryptocurrencies), 
and derivatives which are legal contracts whose value is some function of the price of a specified underlying asset. 
In total, on an average day, tens of trillions of US dollars worth of assets change hands.

All markets, whatever the good or service being exchanged, have something in common: Every seller needs a buyer, 
and every buyer needs a seller. But this raises some natural questions: What happens if no-one wants to sell (or buy)? 
What happens if the only prices at which people are willing to sell is far out of reach of those who want to buy? 
Enter the \textit{dealer}: An entity who provides \textit{liquidity} (ease of exchange) to market participants. 
A dealer does this by simultaneously offering to both buy and sell the particular asset, offering to buy at a slightly lower price than they offer to sell. 
This known as ``making a market'', and dealers in modern parlance may also be called ``market-makers''.

Dealers provide a crucial service in financial markets: By providing these quotes, 
they narrow the \textit{spread} - the difference between the prices at which one can buy or sell an asset in the market. 
Hence, entities who may need to trade even in adverse market scenarios (such as companies needing to buy foreign currency to pay workers abroad, 
or oil producers seeking to hedge their production) know that they can reliably find a buyer or seller, 
regardless of the uncertainty of other market participants such as \textit{speculators} - those believe that a certain asset is under or overvalued, 
and trade it with the sole motive of making money buy selling it for more than they bought it or vice-versa.

Of course, there is no free lunch. Dealers do not provide this service to the market out of the goodness of their own hearts - they too have a profit motive. 
While the presence of dealers in the market narrows the spread, it does not eliminate it. 
The dealers aim is to be constantly selling the asset for a slightly higher price than it is buying it, and taking the spread as profit. 
In modern electronic markets with very high trading volumes, even in heavily traded assets with very narrow spreads, a spread of only 0.01\$ 
multiplied across millions or billions of trades can be very lucrative for the dealers who are fast enough.

So far we have discussed markets as an abstract concept, but in order to build a mathematical model of the dealer, 
we need to specify the framework under which the market operates. Most modern electronic exchanges, including those mentioned above, 
operate some version of a \textit{limit orderbook} where participants can place two types of orders: a \textit{limit order} or a \textit{market order} 
depending on their needs. Limit orders specify a side (bid or ask, buying or selling), a quantity (how many units of the asset to buy/sell), 
and a price at which the order should be executed. These enter a queue of limit orders at the particular price level. 
Market orders specify the same information, but they do not enter a queue: 
The exchange operates a \textit{matching engine} which takes incoming market orders and attempts to match them to existing limit orders, 
and if two orders match, they are executed and a trade occurs. 

For an example, consider the orderbook illustrated by %\ref{fig:orderbook}. 
If a market order is placed to sell 25 units, then the trade will occur at \$0.99, the dealer will buy and the placer of the market order will sell, 
and both orders will be removed from the market. However, suppose that a market order is placed to only sell 5 units. 
In this case, the orders will still be matched, the seller will sell 5 units for \$0.99 apiece but the limit order at \$0.99 will remain on the exchange, 
only now for 20 units instead of 25. Correspondingly, if the market order is placed for 100 units, 
the limit orders at both price levels will be hit and taken off the market, 
and the seller will only sell 70 units for an average price of $\frac{25\times0.99+45\times0.98}{70}=\$\frac{1377}{1400}$ per asset. 
If a market order is placed and there are no limit orders to match it against, the market order would not be executed at all and be voided.

\begin{figure}
\centering
    \begin{tabular}{ |c|c|c| } 
        \hline
        Side & Price /\$ & Volume \\ 
        \hline
        A & 1.02 & 50 \\
        A & 1.01 & 30 \\
        N/A & 1.00 & 0 \\
        B & 0.99 & 25 \\ 
        B & 0.98 & 45 \\
        \hline
    \end{tabular}
    \caption{An example orderbook}
    \label{fig:orderbook}
\end{figure}

Here we can see the key difference between market and limit orders in action: Limit orders guarantee price, 
but do not guarantee that all or any of the order will be filled. Market orders guarantee that as much of the order as possible will be filled, 
but they do not guarantee the price at which the trade will occur.

We can also observe that the market provides us with a way to estimate the true value of the asset. 
Classical economic theory dictates that in aggregate, market participants react quickly and rationally to new information about a particular asset, 
meaning that market prices reflect the consensus opinion of market participants about the value of traded assets. 
The spread exists because people would only want to sell for slightly more than something is worth, and buy it for slightly less. 
Hence, if you really want to buy an asset you have to pay a premium to ``\textit{cross the spread}'' to acquire it. 
From this we can determine that the true price of the asset at a point in time lies somewhere in between the maximum bid price and the 
minimum ask price for the asset at that time. The most common estimator in the literature is simply the average of these two values, 
but other estimators do exist such as the volume-weighted average price (VWAP) which takes into account the volume of the bids vs asks. 
For the rest of this paper we will use the midpoint price as our estimator for the ``true'' value of an asset.

The aim for the rest of this paper is to build up a model of how a dealer should behave to maximise their returns in the presence of uncertainty: 
namely, uncertainty about the path that the true value of the stock might take. 
In order to do this, we will need to make use of some basic results from measure/probability theory and stochastic processes, which we will
summarise below. We will also briefly introduce some tools from stochastic calculus. Familiarity with standard results 
from a first-year undergraduate level course in real analysis, probability, and statistics is assumed.

\section{Measure Theory and Probability}
\begin{itemize}
    \item Sigma algebras
    \item Measurable sets
    \item Measurable functions
    \item Measures
    \item Integration of measurable functions
    \item Reals, Borel sigma algebra \& lebesgue measure
    \item Probability spaces
    \item Random variables
    \item Tonelli \& Fubini
    \item Moment generating functions
\end{itemize}

\begin{definition}[$\sigma$-algebra]
    A family $\mathcal{F}\subset\subseteq\mathcal{P}(\Omega)$ of sets is called a $\sigma$-algebra if 
    \begin{itemize}
        \item $\Omega\in\mathcal{A},$
        \item for every countable collection of sets $A_1,A_2,...\in\mathcal{F},\;\bigcup_{n}A_n\in\mathcal{F},$
        \item for every $A\in\mathcal{F}, A^{\mathrm c}\in\mathcal{F}.$
    \end{itemize}
\end{definition}

\begin{remark}
    The pair $(\Omega,\mathcal{F})$ is called a \emph{measurable space}. Any set $A\in\mathcal{F}$
    is called $\mathcal{F}$-\emph{measurable} or simply \emph{measurable}.
\end{remark}

\begin{definition}
    A \emph{measure} $\mu$ on a $\sigma$-algebra $\mathcal{F}$ is a set function
    $\mu:\mathcal{F}\rightarrow[0,\infty]$ such that $\forall$ mutually disjoint
    sets $A_1,A_2,...\in\mathcal{A}$ with $\bigcup_nA_n\in\mathcal{A},$
    \begin{equation}
        \mu\left(\bigcup_{n=1}^{\infty}A_n\right)=\sum_{n=1}^{\infty}\mu(A_n)
    \end{equation}
\end{definition}

\begin{remark}
    If $\mu(\Omega)=1$ then we call $\mu$ a \emph{probability measure}, and often
    use $\mathbb{P}$ instead. In this case the triplet $(\Omega,\mathcal{F},\mathbb{P})$
    is called a \emph{probability space}.
\end{remark}

\begin{lemma}
    Let $\mathcal{A}\subseteq\mathcal{P}(\Omega)$ Then $\exists$ a smallest $\sigma$-
    algebra $\sigma(\mathcal{A})$ that contains all sets from $\mathcal{A}.$
\end{lemma}
\begin{proof}
    The intersection of $\sigma$-algebras is a $\sigma$-algebra, so to find the 
    smallest containing some collection of sets, take the intersection of all $\sigma$-
    algebras containing those sets.
\end{proof}

\begin{remark}
    The above $\sigma(\mathcal{A})$ is usually called the $\sigma$-algebra
    \emph{generated} by $\mathcal{A}$.
\end{remark}

\begin{definition}[The Borel $\sigma$-algebra]
    Consider the collection 
    \begin{equation*}
        \mathcal{A}=\{(a,b):a,b\in\mathbb{R}\cup\{-\infty,\infty\},a<b\}
    \end{equation*}
    Then define $\mathcal{B}(\mathbb{R}):=\sigma(\mathcal{A})$ the \emph{Borel 
    $\sigma$-algebra}. This is the smallest $\sigma$-algebra containing all open
    sets in $\mathbb{R}$. A set $B\in\mathcal{B}$ is a \emph{Borel set}.
\end{definition}

\begin{definition}[Measurable functions]
    Let $(\Omega,\mathcal{F})$ be a measurable space. A function $f:\Omega\rightarrow\mathbb{R}$
    is \emph{measurable} if for any 
\end{definition}

\section{Stochastic Processes}
\begin{itemize}
    \item Markov chains
    \item Martingales
    \item Poisson processes
    \item Brownian motion
\end{itemize}

\section{Stochastic Integration}
\begin{itemize}
    \item Stochastic integral
    \item Itos lemma
\end{itemize}

\section{Stochastic Differential Equations}
\begin{itemize}
    \item From PDE to SDE
    \item Brownian motion as the solution to an SDE
\end{itemize}
